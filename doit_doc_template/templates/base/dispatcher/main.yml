#                                                         -*- coding: utf-8 -*-
#! \file    ~/doit_doc_template/templates/base/dispatcher/main.yml
#! \author  Jiří Kučera, <sanczes AT gmail.com>
#! \stamp   2019-06-19 12:46:18 +0200
#! \project DoIt! Doc: Sphinx Extension for DoIt! Documentation
#! \license MIT
#! \version 0.0.0
#! \brief   Base template dispatcher definition.
#

start_page_hook:
  - newpage: page

end_page_hook:
  - output: "{{ page | beautify }}"

visit_substitution_definition:
  - skip

depart_substitution_definition:
  - pass

visit_document:
  - pushmark: page

depart_document:
  - popmark: page

visit_emphasis:
  - pushmark: page

depart_emphasis:
  - popmark: page
  - render:
      emphasize: _0
  - contribute: page

visit_text:
  - pass

depart_text:
  - _0: "{{ node.astext() | e }}"
  - contribute: page
